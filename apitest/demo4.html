<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
	<title>api测试-下单测试</title>
	<link href="./assets/css/style.css" rel="stylesheet">
	<script src="./assets/js/jquery-3.3.1.min.js"></script>
</head>
<body>
<div class="main">
	<div class="form-div">
		<div class="input-div"><a href="./demo.html"><label for="number" class="input-label">返回首页</label></a></div>
		<form action="./demo4.php" id="selectcontact">
			<div class="input-div"><label for="contactNo" class="input-label">餐厅编号:</label><input type="text" name="contactNo" value="testmer001" readonly="readonly"></div>
			<div class="input-div"><label for="contactMemberNo" class="input-label">餐台编号:</label><input type="text" name="contactMemberNo" value="1_1"><br>(1_1-1_5)</div>
			<div class="input-div"><label for="openId" class="input-label">用户id:</label><input type="text" name="openId" value="testopenid1"></div>
			<div class="input-div"><label for="nickName" class="input-label">用户昵称:</label><input type="text" name="nickName" value="测试用户"></div>
			<div class="input-div"><label for="number" class="input-label">令牌:</label><input type="text" name="token" value=""></div>
			<div>菜品:<br>
				<div class="input-div">北极贝刺身:<input type="checkbox" name="food[1][checked]" value="true" checked="checked">数量:<label class="input-label"><input name="food[1][number]" value="1"></label></div>
				<div class="input-div">下單測試菜品:<input type="checkbox" name="foodws[348][checked]" value="true" checked="checked">数量:<label class="input-label"><input name="foodws[348][number]" value="1"></label></div>
				<div class="input-div">18元套餐:<input type="checkbox" name="meal[1][checked]" value="true" checked="checked">数量:<label class="input-label"><input name="meal[1][number]" value="1"></label></div>
			</div>
			<div class="reset">重置</div>
			<div class="submit">提交</div>
		</form>
	</div>
	<textarea class="result-info" style="display: none;" id="post"></textarea>
	<textarea class="result-info" style="display: none;" id="get"></textarea>
</div>
</body>
<script type="text/javascript">
    $(".submit").click(function(){
        $.ajax({
            type: "POST",
            url : './demo4.php',
            data: $("#selectcontact").serialize(),
            async: true,
            success: function(res) {
                data = JSON.parse(res);
                $(".result-info").show();
                $("#post").append('發送:'+JSON.stringify(data.post));
                $("#get").append('獲取:'+JSON.stringify(data.msg));
            },
            error: function(request) {
                alert('頁面錯誤');
            }
        });
    });
    $(".reset").click(function(){
        $("#selectcontact")[0].reset();
    });
</script>
</html>